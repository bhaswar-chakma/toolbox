print(avengers) # just for ease of inspection
quit
reticulate::repl_python()
df.loc[1, :]
quit
reticulate::repl_python()
data = [{'a': 11, 'b': 2},
{'a': 12, 'b': 4},
{'a': 13, 'b': 6}]
df = pd.DataFrame(data, index = [1, 2, 3])
df
quit
reticulate::repl_python()
df.loc[1, :]
quit
reticulate::repl_python()
df.iloc[1, :]
quit
reticulate::repl_python()
print(avengers) # just for ease of inspection
quit
reticulate::repl_python()
print(avengers) # just for ease of inspection
quit
reticulate::repl_python()
# select avengers whose age is less than 50 and greater than 40
# select the columns 'hero name' and 'age'
avengers.loc[ (avengers.age < 50) & (avengers.age > 40), ['hero name', 'age']]
quit
reticulate::repl_python()
# Use the index of the DataFrame, treat it as a string, and select rows that start with B
avengers.loc[ avengers.index.str.startswith('B'), : ]
quit
reticulate::repl_python()
print(avengers) # just for ease of inspection
quit
reticulate::repl_python()
# ages during the First Avengers film (2012)
hero_dict = {'Thor': np.NaN,
'Steve Rogers': 'Captain America',
'Natasha Romanoff': 'Black Widow',
'Clint Barton': 'Hawkeye',
'Tony Stark': 'Iron Man',
'Bruce Banner': 'Hulk'}
hero_names = pd.Series(hero_dict)
print(hero_names)
quit
reticulate::repl_python()
# ages during the First Avengers film (2012)
age_dict = {'Thor': 1493,
'Steve Rogers': 104,
'Natasha Romanoff': 28,
'Clint Barton': 41,
'Tony Stark': 42,
'Bruce Banner': 42} # note that the dictionary order is not same here
ages = pd.Series(age_dict)
print(ages)
quit
reticulate::repl_python()
# Now create data frame using those series
avengers = pd.DataFrame({'actor': samp_series, 'hero name': hero_names, 'age': ages})
# the DataFrame will match the indices and sort them
print(avengers)
print(type(avengers)) # this is a DataFrame object
quit
reticulate::repl_python()
# select avengers whose age is less than 50 and greater than 40
# select the columns 'hero name' and 'age'
avengers.loc[ (avengers.age < 50) & (avengers.age > 40), ['hero name', 'age']]
quit
reticulate::repl_python()
print(avengers) # just for ease of inspection
quit
reticulate::repl_python()
# Use the index of the DataFrame, treat it as a string, and select rows that start with B
avengers.loc[ avengers.index.str.startswith('B'), : ]
quit
reticulate::repl_python()
# Use the index of the DataFrame, treat it as a string,
# find the character capital R. Find returns -1 if it does not find the letter
# We select rows that did not result in -1, which means it does contain a capital R
avengers.loc[ avengers.index.str.find('R') != -1, : ]
quit
# Use the index of the DataFrame, treat it as a string,
# find the character capital R. Find returns -1 if it does not find the letter
# We select rows that did not result in -1, which means it does contain a capital R
avengers.loc[ avengers.index.str.find('X') != -1, : ]
reticulate::repl_python()
# Titanic Dataset
url = 'https://assets.datacamp.com/production/course_1607/datasets/titanic_sub.csv'
titanic = pd.read_csv(url)
quit
reticulate::repl_python()
titanic
quit
reticulate::repl_python()
titanic.index
reticulate::repl_python()
import numpy as np
import pandas as pd
quit
reticulate::repl_python()
data = pd.Series([0.25, 0.5, 0.75, 1.0], index = ['a', 'b', 'c', 'd'])
print(data)
quit
reticulate::repl_python()
# remember, dictionary construction uses curly braces {}
samp_dict = {'Tony Stark': "Robert Downey Jr.",
'Steve Rogers': "Chris Evans",
'Natasha Romanoff': "Scarlett Johansson",
'Bruce Banner': "Mark Ruffalo",
'Thor': "Chris Hemsworth",
'Clint Barton': "Jeremy Renner"}
samp_series = pd.Series(samp_dict)
samp_series
quit
reticulate::repl_python()
# ages during the First Avengers film (2012)
age_dict = {'Thor': 1493,
'Steve Rogers': 104,
'Natasha Romanoff': 28,
'Clint Barton': 41,
'Tony Stark': 42,
'Bruce Banner': 42} # note that the dictionary order is not same here
ages = pd.Series(age_dict)
print(ages)
quit
reticulate::repl_python()
# ages during the First Avengers film (2012)
hero_dict = {'Thor': np.NaN,
'Steve Rogers': 'Captain America',
'Natasha Romanoff': 'Black Widow',
'Clint Barton': 'Hawkeye',
'Tony Stark': 'Iron Man',
'Bruce Banner': 'Hulk'}
hero_names = pd.Series(hero_dict)
print(hero_names)
quit
reticulate::repl_python()
data = [{'a': 0, 'b': 0},
{'a': 1, 'b': 2},
{'a': 2, 'b': 5}]
data
quit
reticulate::repl_python()
data2 = [{'a': 0, 'b': 0},
reticulate::repl_python()
{'a': 1, 'b': 2},
{'a': 2, 'c': 5}] # mismatch of keys. NAs will appear
data2
quit
reticulate::repl_python()
data2 = [{'a': 0, 'b': 0},
{'a': 1, 'b': 2},
{'a': 2, 'c': 5}] # mismatch of keys. NAs will appear
data2
quit
reticulate::repl_python()
data2 = [{'a': 0, 'b': 0},
{'a': 1, 'b': 2},
{'a': 2, 'c': 5}] # mismatch of keys. NAs will appear
data2
quit
reticulate::repl_python()
pd.DataFrame(data2)# # if the index argument is not supplied, it defaults to integer index start at 0
quit
reticulate::repl_python()
# note that the value after the decimal place corresponds to the letter position.
# i.e. 1.4 corresponds to d, the fourth letter.
original1 = pd.Series([1.4, 2.3, 3.1, 4.2], index = ['d','c','a','b'])
original2 = pd.Series([2.2, 3.1, 1.3, 4.4], index = ['b','a','c','d'])
original1 # when you create a series, the original order of the index is preserved
quit
pd.DataFrame({"x":original1, "x2": original1 * 2})
reticulate::repl_python()
df = pd.DataFrame({"x":original1, "y": original2})
df
quit
reticulate::repl_python()
original2
original2.sort_index()
original2.sort_values()
quit
reticulate::repl_python()
original1['a'] # throws an error because 'a' is no longer part of the index and cannot be used to select values
quit
reticulate::repl_python()
original1.index = range(1,5)
original1
original1[1]
original1.loc[1]
original1.iloc[1] # behavior is different because range index starts at 1
quit
reticulate::repl_python()
original1['a'] # throws an error because 'a' is no longer part of the index and cannot be used to select values
reticulate::repl_python()
df = {
name:["Barney", "Ted", "Marshall", "Lilly", "Robin"],
gender:["Male", "Male","Male", "Female", "Female"],
grade:[10, 11, 13, 12, 14]
}
df
quit
reticulate::repl_python()
import pandas as pd
import numpy as np
quit
reticulate::repl_python()
df = pd.DataFrame({
name:["Barney", "Ted", "Marshall", "Lilly", "Robin"],
gender:["Male", "Male","Male", "Female", "Female"],
grade:[10, 11, 13, 12, 14]
})
df
quit
reticulate::repl_python()
df = pd.DataFrame({
'name':["Barney", "Ted", "Marshall", "Lilly", "Robin"],
'gender':["Male", "Male","Male", "Female", "Female"],
'grade':[10, 11, 13, 12, 14]
})
df
quit
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
reticulate::repl_python()
df.dtypes
quit
glimpse(df)
library(dplyr)
glimpse(df)
df <- tibble(
name = c("Barney", "Ted", "Marshall",
"Lilly","Robin"),
gender = c("Male", "Male","Male",
"Female", "Female"),
grade = c(10, 11, 13, 12, 14)
)
df
glimpse(df)
reticulate::repl_python()
df.shape
quit
reticulate::repl_python()
df.shape
df.info
quit
reticulate::repl_python()
df.shape
df.info()
quit
reticulate::repl_python()
df.info()
quit
knitr::kable(df)
reticulate::repl_python()
df[['name', 'grade']]
quit
reticulate::repl_python()
df[['name', 'grade']]
# or
df.drop(['gender'])
quit
reticulate::repl_python()
df[['name', 'grade']]
# or
df.drop(['gender'])
quit
reticulate::repl_python()
# or
df.drop(['gender'])
quit
# or
reticulate::repl_python()
df.drop(['gender'])
quit
reticulate::repl_python()
# or
df
quit
reticulate::repl_python()
# or
df.drop(['grade'])
quit
reticulate::repl_python()
# or
df.drop(['grade'])
quit
reticulate::repl_python()
# or
df.drop(['grade'])
quit
reticulate::repl_python()
# or
df.drop(['grade'])
df
quit
reticulate::repl_python()
# or
df.drop(columns = ['grade'])
quit
df <- tibble(
name = c("Barney", "Ted", "Marshall",
"Lilly","Robin"),
gender = c("Male", "Male","Male",
"Female", "Female"),
grade = c(10, 11, 13, 12, 14)
)
df
reticulate::repl_python()
df = pd.DataFrame({
'name':["Barney", "Ted", "Marshall",
"Lilly", "Robin"],
'gender':["Male", "Male","Male",
"Female", "Female"],
'grade':[10, 11, 13, 12, 14]
})
df
quit
reticulate::repl_python()
import pandas as pd
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(dplyr)
reticulate::repl_python()
import pandas as pd
quit
quit
df <- tibble(
name = c("Barney", "Ted", "Marshall",
"Lilly","Robin"),
gender = c("Male", "Male","Male",
"Female", "Female"),
grade = c(10, 11, 13, 12, 14)
)
df
df <- tibble(
name = c("Barney", "Ted", "Marshall",
"Lilly","Robin"),
gender = c("Male", "Male","Male",
"Female", "Female"),
grade = c(10, 11, 13, 12, 14)
)
df
reticulate::repl_python()
df = pd.DataFrame({
'name':["Barney", "Ted", "Marshall",
"Lilly", "Robin"],
'gender':["Male", "Male","Male",
"Female", "Female"],
'grade':[10, 11, 13, 12, 14]
})
df
quit
reticulate::repl_python()
df.groupby("gender")['grade'].mean()
quit
reticulate::repl_python()
df.groupby("gender")['grade'].mean()
quit
reticulate::repl_python()
df[['gender', 'grade']].groupby("gender").mean()
quit
reticulate::repl_python()
type(df.groupby("gender")['grade'].mean())
quit
reticulate::repl_python()
df.groupby("gender")['grade'].mean()
quit
reticulate::repl_python()
type(df[['gender', 'grade']].groupby("gender").mean())
quit
reticulate::repl_python()
df[['gender', 'grade']].groupby("gender").mean()
quit
reticulate::repl_python()
df[['gender', 'grade']].groupby("gender").mean()
quit
df %>%
group_by(gender) %>%
summarize(mean = mean(grade),
median = median(grade),
min = min(grade),
max = max(grade))
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{
'mean': 'mean'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean_grade': 'mean',
'median_grade': 'median',
'min_grade': 'min'
'median_grade': 'max'
}
)
quit
df.groupby("gender")['grade'].agg(
reticulate::repl_python()
# provide a dictionary
quit
df.groupby("gender")['grade'].agg(
reticulate::repl_python()
# provide a dictionary
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean_grade': 'mean',
'median_grade': 'median',
'min_grade': 'min',
'median_grade': 'max'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean_grade': 'mean',
'median_grade': 'median'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean_grade': 'mean',
'median_grade': 'median'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean_grade': 'min'
}
)
quit
df.groupby("gender")['grade'].agg(
reticulate::repl_python()
# provide a dictionary
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean_grade': 'min'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean_grade': 'min',
'median_grade': 'median',
'min_grade': 'min',
'median_grade': 'max'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean': 'min',
'median': 'median',
'min': 'min',
'median': 'max'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean': 'max',
'median': 'median',
'min': 'min',
'median': 'max'
}
)
quit
reticulate::repl_python()
df.groupby("gender")['grade'].agg(
# provide a dictionary
{# variable name followed by function
'mean': 'mean',
'median': 'median',
'min': 'min',
'max': 'max'
}
)
quit
reticulate::repl_python()
df[['gender', 'grade']].groupby("gender").agg(
# provide a dictionary
{# variable name followed by function
'mean': 'mean',
'median': 'median',
'min': 'min',
'max': 'max'
}
)
