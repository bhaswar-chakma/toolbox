<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Python | Toolbox</title>
  <meta name="description" content="2 Python | Toolbox" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Python | Toolbox" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Python | Toolbox" />
  
  
  

<meta name="author" content="Bhaswar Chakma" />


<meta name="date" content="2021-07-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dplyr-vs-pandas.html"/>
<link rel="next" href="r.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Toolbox</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="1" data-path="dplyr-vs-pandas.html"><a href="dplyr-vs-pandas.html"><i class="fa fa-check"></i><b>1</b> dplyr vs pandas</a>
<ul>
<li class="chapter" data-level="1.1" data-path="dplyr-vs-pandas.html"><a href="dplyr-vs-pandas.html#select"><i class="fa fa-check"></i><b>1.1</b> select()</a></li>
<li class="chapter" data-level="1.2" data-path="dplyr-vs-pandas.html"><a href="dplyr-vs-pandas.html#mutate"><i class="fa fa-check"></i><b>1.2</b> mutate()</a></li>
<li class="chapter" data-level="1.3" data-path="dplyr-vs-pandas.html"><a href="dplyr-vs-pandas.html#filter"><i class="fa fa-check"></i><b>1.3</b> filter()</a></li>
<li class="chapter" data-level="1.4" data-path="dplyr-vs-pandas.html"><a href="dplyr-vs-pandas.html#group_by-and-summarize"><i class="fa fa-check"></i><b>1.4</b> group_by() and summarize()</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="python.html"><a href="python.html"><i class="fa fa-check"></i><b>2</b> Python</a>
<ul>
<li class="chapter" data-level="2.1" data-path="python.html"><a href="python.html#pandas-i-basics"><i class="fa fa-check"></i><b>2.1</b> Pandas I: Basics</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="python.html"><a href="python.html#series"><i class="fa fa-check"></i><b>2.1.1</b> Series</a></li>
<li class="chapter" data-level="2.1.2" data-path="python.html"><a href="python.html#dataframe"><i class="fa fa-check"></i><b>2.1.2</b> DataFrame</a></li>
<li class="chapter" data-level="2.1.3" data-path="python.html"><a href="python.html#subsetting-the-dataframe"><i class="fa fa-check"></i><b>2.1.3</b> Subsetting the DataFrame</a></li>
<li class="chapter" data-level="2.1.4" data-path="python.html"><a href="python.html#loc"><i class="fa fa-check"></i><b>2.1.4</b> <code>.loc</code></a></li>
<li class="chapter" data-level="2.1.5" data-path="python.html"><a href="python.html#iloc"><i class="fa fa-check"></i><b>2.1.5</b> <code>.iloc</code></a></li>
<li class="chapter" data-level="2.1.6" data-path="python.html"><a href="python.html#assignment-with-.loc-and-.iloc"><i class="fa fa-check"></i><b>2.1.6</b> Assignment with <code>.loc</code> and <code>.iloc</code></a></li>
<li class="chapter" data-level="2.1.7" data-path="python.html"><a href="python.html#loc-vs-.iloc-with-numeric-index"><i class="fa fa-check"></i><b>2.1.7</b> <code>.loc</code> vs <code>.iloc</code> with numeric index</a></li>
<li class="chapter" data-level="2.1.8" data-path="python.html"><a href="python.html#boolean-subsetting-examples-with-.loc"><i class="fa fa-check"></i><b>2.1.8</b> Boolean subsetting examples with <code>.loc</code></a></li>
<li class="chapter" data-level="2.1.9" data-path="python.html"><a href="python.html#other-commonly-used-dataframe-attributes"><i class="fa fa-check"></i><b>2.1.9</b> Other commonly used DataFrame attributes</a></li>
<li class="chapter" data-level="2.1.10" data-path="python.html"><a href="python.html#importing-data-with-pd.read_csv"><i class="fa fa-check"></i><b>2.1.10</b> Importing Data with pd.read_csv()</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="python.html"><a href="python.html#pandas-ii-indexing-arithmetic-missing-values"><i class="fa fa-check"></i><b>2.2</b> Pandas II: Indexing, Arithmetic, Missing Values</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="python.html"><a href="python.html#indexing"><i class="fa fa-check"></i><b>2.2.1</b> Indexing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>3</b> R</a></li>
<li class="chapter" data-level="4" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i><b>4</b> SQL</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sql.html"><a href="sql.html#create"><i class="fa fa-check"></i><b>4.1</b> CREATE</a></li>
<li class="chapter" data-level="4.2" data-path="sql.html"><a href="sql.html#drop"><i class="fa fa-check"></i><b>4.2</b> DROP</a></li>
<li class="chapter" data-level="4.3" data-path="sql.html"><a href="sql.html#alter"><i class="fa fa-check"></i><b>4.3</b> ALTER</a></li>
<li class="chapter" data-level="4.4" data-path="sql.html"><a href="sql.html#truncate"><i class="fa fa-check"></i><b>4.4</b> TRUNCATE</a></li>
<li class="chapter" data-level="4.5" data-path="sql.html"><a href="sql.html#guided-exercise-create-table-and-insert-data"><i class="fa fa-check"></i><b>4.5</b> Guided Exercise: Create table and insert data</a></li>
<li class="chapter" data-level="4.6" data-path="sql.html"><a href="sql.html#guided-exercise-use-the-alter-statement-to-add-delete-or-modify-columns-in-two-of-the-existing-tables-created-in-the-previous-exercise."><i class="fa fa-check"></i><b>4.6</b> Guided Exercise: Use the <code>ALTER</code> statement to add, delete, or modify columns in two of the existing tables created in the previous exercise.</a></li>
<li class="chapter" data-level="4.7" data-path="sql.html"><a href="sql.html#guided-exercise-truncate"><i class="fa fa-check"></i><b>4.7</b> Guided Exercise: TRUNCATE</a></li>
<li class="chapter" data-level="4.8" data-path="sql.html"><a href="sql.html#guided-exercise-drop"><i class="fa fa-check"></i><b>4.8</b> Guided Exercise: DROP</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Toolbox</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="python" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Python</h1>
<center>
<img src="https://www.python.org/static/img/python-logo@2x.png" width="300" alt="cognitiveclass.ai logo"  />
</center>
<div id="pandas-i-basics" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Pandas I: Basics</h2>
<center>
<img src="https://pandas.pydata.org/static/img/pandas.svg" width="300" alt="cognitiveclass.ai logo"  />
</center>
<p>NumPy creates ndarrays that must contain values that are of the same data type.
Pandas creates dataframes. Each column in a dataframe is an ndarray. This allows us to have
traditional tables of data where each column can be a different data type.</p>
<p>Important References:</p>
<ul>
<li><p>Series: <a href="https://pandas.pydata.org/pandas-docs/stable/reference/series.html" class="uri">https://pandas.pydata.org/pandas-docs/stable/reference/series.html</a></p></li>
<li><p>DataFrame: <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html" class="uri">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html</a></p></li>
</ul>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="python.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb40-2"><a href="python.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre></div>
<div id="series" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Series</h3>
<p>The basic data structure in pandas is the series. You can construct it in a similar fashion to making a numpy array. The command to make a Series object is
<code>pd.Series(data, index=index)</code>. Note that the <code>index</code> argument is optional.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="python.html#cb41-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.Series([<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">1.0</span>])</span>
<span id="cb41-2"><a href="python.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code></pre></div>
<pre><code>## 0    0.25
## 1    0.50
## 2    0.75
## 3    1.00
## dtype: float64</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="python.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data)) <span class="co"># data type</span></span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="python.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.values) <span class="co"># data values</span></span></code></pre></div>
<pre><code>## [0.25 0.5  0.75 1.  ]</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="python.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data.values)) <span class="co"># The values attribute of the series is a numpy array.</span></span></code></pre></div>
<pre><code>## &lt;class &#39;numpy.ndarray&#39;&gt;</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="python.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.index) </span></code></pre></div>
<pre><code>## RangeIndex(start=0, stop=4, step=1)</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="python.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data.index)) <span class="co"># the row names are known as the index</span></span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.indexes.range.RangeIndex&#39;&gt;</code></pre>
<p><strong>You can subset a pandas series like other python objects.</strong></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="python.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data) <span class="co"># example data</span></span></code></pre></div>
<pre><code>## 0    0.25
## 1    0.50
## 2    0.75
## 3    1.00
## dtype: float64</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="python.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data[<span class="dv">1</span>]) <span class="co"># select the 2nd value</span></span></code></pre></div>
<pre><code>## 0.5</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="python.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data[<span class="dv">1</span>])) <span class="co"># when you select only one value, it simplifies the object</span></span></code></pre></div>
<pre><code>## &lt;class &#39;numpy.float64&#39;&gt;</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb59-1"><a href="python.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data[<span class="dv">1</span>:<span class="dv">3</span>])</span></code></pre></div>
<pre><code>## 1    0.50
## 2    0.75
## dtype: float64</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb61-1"><a href="python.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data[<span class="dv">1</span>:<span class="dv">3</span>])) <span class="co"># slicing / selecting multiple values returns a series</span></span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<p><strong>You can also do fancy indexing by subsetting w/a numpy array e.g. repeat observations.</strong></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb63-1"><a href="python.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data[np.array([<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>])])</span></code></pre></div>
<pre><code>## 1    0.50
## 0    0.25
## 1    0.50
## 2    0.75
## dtype: float64</code></pre>
<p><strong>Pandas uses a 0-based index by default. You may also specify the index values.</strong></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="python.html#cb65-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.Series([<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">1.0</span>], index <span class="op">=</span> [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>])</span>
<span id="cb65-2"><a href="python.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code></pre></div>
<pre><code>## a    0.25
## b    0.50
## c    0.75
## d    1.00
## dtype: float64</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="python.html#cb67-1" aria-hidden="true" tabindex="-1"></a>data.values</span></code></pre></div>
<pre><code>## array([0.25, 0.5 , 0.75, 1.  ])</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb69-1"><a href="python.html#cb69-1" aria-hidden="true" tabindex="-1"></a>data.index</span></code></pre></div>
<pre><code>## Index([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], dtype=&#39;object&#39;)</code></pre>
<p><strong>Subset with index position or name</strong></p>
<ul>
<li>subset with index position</li>
</ul>
<div class="sourceCode" id="cb71"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb71-1"><a href="python.html#cb71-1" aria-hidden="true" tabindex="-1"></a>data[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## 0.5</code></pre>
<ul>
<li>subset with index name</li>
</ul>
<div class="sourceCode" id="cb73"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb73-1"><a href="python.html#cb73-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;a&quot;</span>]</span></code></pre></div>
<pre><code>## 0.25</code></pre>
<p><strong>Slicing with <code>:</code></strong></p>
<div class="sourceCode" id="cb75"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="python.html#cb75-1" aria-hidden="true" tabindex="-1"></a>data[<span class="dv">0</span>:<span class="dv">2</span>] <span class="co"># slicing behavior is unchanged</span></span></code></pre></div>
<pre><code>## a    0.25
## b    0.50
## dtype: float64</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="python.html#cb77-1" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&quot;a&quot;</span>:<span class="st">&quot;c&quot;</span>] <span class="co"># slicing using index names includes the last value</span></span></code></pre></div>
<pre><code>## a    0.25
## b    0.50
## c    0.75
## dtype: float64</code></pre>
<p><strong>Create a series from a python dictionary</strong></p>
<div class="sourceCode" id="cb79"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="python.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remember, dictionary construction uses curly braces {}</span></span>
<span id="cb79-2"><a href="python.html#cb79-2" aria-hidden="true" tabindex="-1"></a>samp_dict <span class="op">=</span> {<span class="st">&#39;Tony Stark&#39;</span>: <span class="st">&quot;Robert Downey Jr.&quot;</span>,</span>
<span id="cb79-3"><a href="python.html#cb79-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Steve Rogers&#39;</span>: <span class="st">&quot;Chris Evans&quot;</span>,</span>
<span id="cb79-4"><a href="python.html#cb79-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Natasha Romanoff&#39;</span>: <span class="st">&quot;Scarlett Johansson&quot;</span>,</span>
<span id="cb79-5"><a href="python.html#cb79-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Bruce Banner&#39;</span>: <span class="st">&quot;Mark Ruffalo&quot;</span>,</span>
<span id="cb79-6"><a href="python.html#cb79-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Thor&#39;</span>: <span class="st">&quot;Chris Hemsworth&quot;</span>,</span>
<span id="cb79-7"><a href="python.html#cb79-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Clint Barton&#39;</span>: <span class="st">&quot;Jeremy Renner&quot;</span>}</span>
<span id="cb79-8"><a href="python.html#cb79-8" aria-hidden="true" tabindex="-1"></a>samp_series <span class="op">=</span> pd.Series(samp_dict)</span>
<span id="cb79-9"><a href="python.html#cb79-9" aria-hidden="true" tabindex="-1"></a>samp_series</span></code></pre></div>
<pre><code>## Tony Stark           Robert Downey Jr.
## Steve Rogers               Chris Evans
## Natasha Romanoff    Scarlett Johansson
## Bruce Banner              Mark Ruffalo
## Thor                   Chris Hemsworth
## Clint Barton             Jeremy Renner
## dtype: object</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="python.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(samp_series.index) <span class="co"># dtype = object is for strings but allows mixed data types.</span></span></code></pre></div>
<pre><code>## Index([&#39;Tony Stark&#39;, &#39;Steve Rogers&#39;, &#39;Natasha Romanoff&#39;, &#39;Bruce Banner&#39;,
##        &#39;Thor&#39;, &#39;Clint Barton&#39;],
##       dtype=&#39;object&#39;)</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="python.html#cb83-1" aria-hidden="true" tabindex="-1"></a>samp_series.values</span></code></pre></div>
<pre><code>## array([&#39;Robert Downey Jr.&#39;, &#39;Chris Evans&#39;, &#39;Scarlett Johansson&#39;,
##        &#39;Mark Ruffalo&#39;, &#39;Chris Hemsworth&#39;, &#39;Jeremy Renner&#39;], dtype=object)</code></pre>
<p>Another example:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="python.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ages during the First Avengers film (2012)</span></span>
<span id="cb85-2"><a href="python.html#cb85-2" aria-hidden="true" tabindex="-1"></a>age_dict <span class="op">=</span> {<span class="st">&#39;Thor&#39;</span>: <span class="dv">1493</span>,</span>
<span id="cb85-3"><a href="python.html#cb85-3" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Steve Rogers&#39;</span>: <span class="dv">104</span>,</span>
<span id="cb85-4"><a href="python.html#cb85-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Natasha Romanoff&#39;</span>: <span class="dv">28</span>,</span>
<span id="cb85-5"><a href="python.html#cb85-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Clint Barton&#39;</span>: <span class="dv">41</span>,</span>
<span id="cb85-6"><a href="python.html#cb85-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Tony Stark&#39;</span>: <span class="dv">42</span>,</span>
<span id="cb85-7"><a href="python.html#cb85-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&#39;Bruce Banner&#39;</span>: <span class="dv">42</span>} <span class="co"># note that the dictionary order is not same here</span></span>
<span id="cb85-8"><a href="python.html#cb85-8" aria-hidden="true" tabindex="-1"></a>ages <span class="op">=</span> pd.Series(age_dict)</span>
<span id="cb85-9"><a href="python.html#cb85-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ages)</span></code></pre></div>
<pre><code>## Thor                1493
## Steve Rogers         104
## Natasha Romanoff      28
## Clint Barton          41
## Tony Stark            42
## Bruce Banner          42
## dtype: int64</code></pre>
<p><strong>Use <code>np.NaN</code> to specify missing values.</strong></p>
<div class="sourceCode" id="cb87"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb87-1"><a href="python.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ages during the First Avengers film (2012)</span></span>
<span id="cb87-2"><a href="python.html#cb87-2" aria-hidden="true" tabindex="-1"></a>hero_dict <span class="op">=</span> {<span class="st">&#39;Thor&#39;</span>: np.NaN,</span>
<span id="cb87-3"><a href="python.html#cb87-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Steve Rogers&#39;</span>: <span class="st">&#39;Captain America&#39;</span>,</span>
<span id="cb87-4"><a href="python.html#cb87-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Natasha Romanoff&#39;</span>: <span class="st">&#39;Black Widow&#39;</span>,</span>
<span id="cb87-5"><a href="python.html#cb87-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Clint Barton&#39;</span>: <span class="st">&#39;Hawkeye&#39;</span>,</span>
<span id="cb87-6"><a href="python.html#cb87-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Tony Stark&#39;</span>: <span class="st">&#39;Iron Man&#39;</span>,</span>
<span id="cb87-7"><a href="python.html#cb87-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Bruce Banner&#39;</span>: <span class="st">&#39;Hulk&#39;</span>}</span>
<span id="cb87-8"><a href="python.html#cb87-8" aria-hidden="true" tabindex="-1"></a>hero_names <span class="op">=</span> pd.Series(hero_dict)</span>
<span id="cb87-9"><a href="python.html#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(hero_names)</span></code></pre></div>
<pre><code>## Thor                            NaN
## Steve Rogers        Captain America
## Natasha Romanoff        Black Widow
## Clint Barton                Hawkeye
## Tony Stark                 Iron Man
## Bruce Banner                   Hulk
## dtype: object</code></pre>
</div>
<div id="dataframe" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> DataFrame</h3>
<p>There are multiple ways of creating a DataFrame in Pandas:</p>
<p><strong>Create a dataframe by providing a dictionary of series objects.</strong></p>
<ul>
<li><p>The dictionary key becomes the column name. The dictionary values become values.</p></li>
<li><p>The keys within the dictionaries become the index.</p></li>
</ul>
<div class="sourceCode" id="cb89"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb89-1"><a href="python.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we previously created the following series</span></span>
<span id="cb89-2"><a href="python.html#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(samp_series)</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb91-1"><a href="python.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(hero_names)</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="python.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(ages)</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb95-1"><a href="python.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now create data frame using those series</span></span>
<span id="cb95-2"><a href="python.html#cb95-2" aria-hidden="true" tabindex="-1"></a>avengers <span class="op">=</span> pd.DataFrame({<span class="st">&#39;actor&#39;</span>: samp_series, <span class="st">&#39;hero name&#39;</span>: hero_names, <span class="st">&#39;age&#39;</span>: ages})</span>
<span id="cb95-3"><a href="python.html#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="co"># the DataFrame will match the indices and sort them</span></span>
<span id="cb95-4"><a href="python.html#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers)</span></code></pre></div>
<pre><code>##                                actor        hero name   age
## Bruce Banner            Mark Ruffalo             Hulk    42
## Clint Barton           Jeremy Renner          Hawkeye    41
## Natasha Romanoff  Scarlett Johansson      Black Widow    28
## Steve Rogers             Chris Evans  Captain America   104
## Thor                 Chris Hemsworth              NaN  1493
## Tony Stark         Robert Downey Jr.         Iron Man    42</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb97-1"><a href="python.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(avengers)) <span class="co"># this is a DataFrame object</span></span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</code></pre>
<p>The data is a list of dictionaries. Each dictionary needs to have the same set of keys,
otherwise, <code>NaN</code>s will appear.</p>
<p><strong>Data is a list of dictionaries</strong></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="python.html#cb99-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [{<span class="st">&#39;a&#39;</span>: <span class="dv">0</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">0</span>},</span>
<span id="cb99-2"><a href="python.html#cb99-2" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&#39;a&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">2</span>},</span>
<span id="cb99-3"><a href="python.html#cb99-3" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&#39;a&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">5</span>}]</span>
<span id="cb99-4"><a href="python.html#cb99-4" aria-hidden="true" tabindex="-1"></a>data</span></code></pre></div>
<pre><code>## [{&#39;a&#39;: 0, &#39;b&#39;: 0}, {&#39;a&#39;: 1, &#39;b&#39;: 2}, {&#39;a&#39;: 2, &#39;b&#39;: 5}]</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="python.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.DataFrame(data, index <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]))</span></code></pre></div>
<pre><code>##    a  b
## 1  0  0
## 2  1  2
## 3  2  5</code></pre>
<p>Mismatch of keys produces NaN</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="python.html#cb103-1" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> [{<span class="st">&#39;a&#39;</span>: <span class="dv">0</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">0</span>},</span>
<span id="cb103-2"><a href="python.html#cb103-2" aria-hidden="true" tabindex="-1"></a>         {<span class="st">&#39;a&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">2</span>},</span>
<span id="cb103-3"><a href="python.html#cb103-3" aria-hidden="true" tabindex="-1"></a>         {<span class="st">&#39;a&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;c&#39;</span>: <span class="dv">5</span>}] <span class="co"># mismatch of keys. NAs will appear</span></span>
<span id="cb103-4"><a href="python.html#cb103-4" aria-hidden="true" tabindex="-1"></a>data2</span></code></pre></div>
<pre><code>## [{&#39;a&#39;: 0, &#39;b&#39;: 0}, {&#39;a&#39;: 1, &#39;b&#39;: 2}, {&#39;a&#39;: 2, &#39;c&#39;: 5}]</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb105-1"><a href="python.html#cb105-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(data2)<span class="co"># # if the index argument is not supplied, it defaults to integer index start at 0</span></span></code></pre></div>
<pre><code>##    a    b    c
## 0  0  0.0  NaN
## 1  1  2.0  NaN
## 2  2  NaN  5.0</code></pre>
<p><strong>Convert a dictionary to a DataFrame.</strong></p>
<ul>
<li><p>The keys form column names, and the values are lists/arrays of values.</p></li>
<li><p>The arrays need to be of the same length.</p></li>
</ul>
<div class="sourceCode" id="cb107"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb107-1"><a href="python.html#cb107-1" aria-hidden="true" tabindex="-1"></a>data3 <span class="op">=</span> {<span class="st">&#39;a&#39;</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="st">&#39;b&#39;</span>: [<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>,<span class="st">&#39;z&#39;</span>]}</span>
<span id="cb107-2"><a href="python.html#cb107-2" aria-hidden="true" tabindex="-1"></a>data3 </span></code></pre></div>
<pre><code>## {&#39;a&#39;: [1, 2, 3], &#39;b&#39;: [&#39;x&#39;, &#39;y&#39;, &#39;z&#39;]}</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb109-1"><a href="python.html#cb109-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(data3)</span></code></pre></div>
<pre><code>##    a  b
## 0  1  x
## 1  2  y
## 2  3  z</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb111-1"><a href="python.html#cb111-1" aria-hidden="true" tabindex="-1"></a>data4 <span class="op">=</span> {<span class="st">&#39;a&#39;</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], <span class="st">&#39;b&#39;</span>: [<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>,<span class="st">&#39;z&#39;</span>]} <span class="co"># arrays are not of the same length</span></span>
<span id="cb111-2"><a href="python.html#cb111-2" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(data4)</span></code></pre></div>
<p>The code above will get the following error</p>
<blockquote>
<p>ValueError: arrays must all be same length</p>
</blockquote>
<p><strong>Turn a 2D Numpy array (matrix) into a DataFrame by adding column names and optionally
index values.</strong></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb112-1"><a href="python.html#cb112-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.random.randint(<span class="dv">10</span>, size <span class="op">=</span> <span class="dv">10</span>).reshape((<span class="dv">5</span>,<span class="dv">2</span>))</span>
<span id="cb112-2"><a href="python.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code></pre></div>
<pre><code>## [[0 5]
##  [5 9]
##  [0 2]
##  [7 7]
##  [7 5]]</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="python.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.DataFrame(data, columns <span class="op">=</span> [<span class="st">&quot;x&quot;</span>,<span class="st">&quot;y&quot;</span>], index <span class="op">=</span> [<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;e&#39;</span>]))</span></code></pre></div>
<pre><code>##    x  y
## a  0  5
## b  5  9
## c  0  2
## d  7  7
## e  7  5</code></pre>
</div>
<div id="subsetting-the-dataframe" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Subsetting the DataFrame</h3>
<p>In a DataFrame, the <code>.columns</code> attribute show the column names and the <code>.index</code> attribute
show the row names.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="python.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers)</span></code></pre></div>
<pre><code>##                                actor        hero name   age
## Bruce Banner            Mark Ruffalo             Hulk    42
## Clint Barton           Jeremy Renner          Hawkeye    41
## Natasha Romanoff  Scarlett Johansson      Black Widow    28
## Steve Rogers             Chris Evans  Captain America   104
## Thor                 Chris Hemsworth              NaN  1493
## Tony Stark         Robert Downey Jr.         Iron Man    42</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb118-1"><a href="python.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers.columns)</span></code></pre></div>
<pre><code>## Index([&#39;actor&#39;, &#39;hero name&#39;, &#39;age&#39;], dtype=&#39;object&#39;)</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb120-1"><a href="python.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers.index)</span></code></pre></div>
<pre><code>## Index([&#39;Bruce Banner&#39;, &#39;Clint Barton&#39;, &#39;Natasha Romanoff&#39;, &#39;Steve Rogers&#39;,
##        &#39;Thor&#39;, &#39;Tony Stark&#39;],
##       dtype=&#39;object&#39;)</code></pre>
<p>You can select a column using:</p>
<ul>
<li>dot notation</li>
</ul>
<div class="sourceCode" id="cb122"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb122-1"><a href="python.html#cb122-1" aria-hidden="true" tabindex="-1"></a>avengers.actor <span class="co"># extracting the column</span></span></code></pre></div>
<pre><code>## Bruce Banner              Mark Ruffalo
## Clint Barton             Jeremy Renner
## Natasha Romanoff    Scarlett Johansson
## Steve Rogers               Chris Evans
## Thor                   Chris Hemsworth
## Tony Stark           Robert Downey Jr.
## Name: actor, dtype: object</code></pre>
<ul>
<li>single square brackets.</li>
</ul>
<div class="sourceCode" id="cb124"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb124-1"><a href="python.html#cb124-1" aria-hidden="true" tabindex="-1"></a>avengers[<span class="st">&quot;hero name&quot;</span>] <span class="co"># if there&#39;s a space in the column name, you&#39;ll need to use square brackets</span></span></code></pre></div>
<pre><code>## Bruce Banner                   Hulk
## Clint Barton                Hawkeye
## Natasha Romanoff        Black Widow
## Steve Rogers        Captain America
## Thor                            NaN
## Tony Stark                 Iron Man
## Name: hero name, dtype: object</code></pre>
<p>Single column is returned as series. For example, <code>avengers.actor</code> is a Pandas Series.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb126-1"><a href="python.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(avengers.actor)</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<p><strong>Subset</strong></p>
<div class="sourceCode" id="cb128"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb128-1"><a href="python.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers) <span class="co"># just for ease of inspection</span></span></code></pre></div>
<pre><code>##                                actor        hero name   age
## Bruce Banner            Mark Ruffalo             Hulk    42
## Clint Barton           Jeremy Renner          Hawkeye    41
## Natasha Romanoff  Scarlett Johansson      Black Widow    28
## Steve Rogers             Chris Evans  Captain America   104
## Thor                 Chris Hemsworth              NaN  1493
## Tony Stark         Robert Downey Jr.         Iron Man    42</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb130-1"><a href="python.html#cb130-1" aria-hidden="true" tabindex="-1"></a>avengers.actor[<span class="dv">1</span>] <span class="co"># 0 based indexing</span></span></code></pre></div>
<pre><code>## &#39;Jeremy Renner&#39;</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb132-1"><a href="python.html#cb132-1" aria-hidden="true" tabindex="-1"></a>avengers.actor[avengers.age <span class="op">==</span> <span class="dv">42</span>]</span></code></pre></div>
<pre><code>## Bruce Banner         Mark Ruffalo
## Tony Stark      Robert Downey Jr.
## Name: actor, dtype: object</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb134-1"><a href="python.html#cb134-1" aria-hidden="true" tabindex="-1"></a>avengers[<span class="st">&quot;hero name&quot;</span>][<span class="st">&#39;Steve Rogers&#39;</span>]</span></code></pre></div>
<pre><code>## &#39;Captain America&#39;</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb136-1"><a href="python.html#cb136-1" aria-hidden="true" tabindex="-1"></a>avengers[<span class="st">&quot;hero name&quot;</span>][<span class="st">&#39;Steve Rogers&#39;</span>:<span class="st">&#39;Tony Stark&#39;</span>]</span></code></pre></div>
<pre><code>## Steve Rogers    Captain America
## Thor                        NaN
## Tony Stark             Iron Man
## Name: hero name, dtype: object</code></pre>
</div>
<div id="loc" class="section level3" number="2.1.4">
<h3><span class="header-section-number">2.1.4</span> <code>.loc</code></h3>
<p>The <code>.loc</code> attribute can be used to subset the DataFrame using the index names.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb138-1"><a href="python.html#cb138-1" aria-hidden="true" tabindex="-1"></a>avengers.loc[<span class="st">&#39;Thor&#39;</span>] <span class="co"># subset based on location to get a row</span></span></code></pre></div>
<pre><code>## actor        Chris Hemsworth
## hero name                NaN
## age                     1493
## Name: Thor, dtype: object</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb140-1"><a href="python.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(avengers.loc[<span class="st">&#39;Thor&#39;</span>]))</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb142-1"><a href="python.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(avengers.loc[<span class="st">&#39;Thor&#39;</span>].values))  <span class="co"># the values are of mixed type but is still a numpy array. </span></span>
<span id="cb142-2"><a href="python.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="co"># this is possible because it is a structured numpy array. (covered in &quot;Python for Data Science&quot; chapter 2)</span></span></code></pre></div>
<pre><code>## &lt;class &#39;numpy.ndarray&#39;&gt;</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb144-1"><a href="python.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers.loc[ : ,<span class="st">&#39;age&#39;</span>]) <span class="co"># subset based on location to get a column</span></span></code></pre></div>
<pre><code>## Bruce Banner          42
## Clint Barton          41
## Natasha Romanoff      28
## Steve Rogers         104
## Thor                1493
## Tony Stark            42
## Name: age, dtype: int64</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb146-1"><a href="python.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(avengers.loc[:,<span class="st">&#39;age&#39;</span>]))  <span class="co">#the object is a pandas series</span></span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.series.Series&#39;&gt;</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb148-1"><a href="python.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(avengers.loc[:,<span class="st">&#39;age&#39;</span>].values))</span></code></pre></div>
<pre><code>## &lt;class &#39;numpy.ndarray&#39;&gt;</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb150-1"><a href="python.html#cb150-1" aria-hidden="true" tabindex="-1"></a>avengers.loc[<span class="st">&#39;Steve Rogers&#39;</span>,<span class="st">&#39;age&#39;</span>]  <span class="co"># you can provide a pair of &#39;coordinates&#39; to get a particular value</span></span></code></pre></div>
<pre><code>## 104</code></pre>
</div>
<div id="iloc" class="section level3" number="2.1.5">
<h3><span class="header-section-number">2.1.5</span> <code>.iloc</code></h3>
<p>The <code>.iloc</code> attribute can be used to subset the DataFrame using the index position (zero-indexed).</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb152-1"><a href="python.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers) <span class="co"># just for ease of inspection</span></span></code></pre></div>
<pre><code>##                                actor        hero name   age
## Bruce Banner            Mark Ruffalo             Hulk    42
## Clint Barton           Jeremy Renner          Hawkeye    41
## Natasha Romanoff  Scarlett Johansson      Black Widow    28
## Steve Rogers             Chris Evans  Captain America   104
## Thor                 Chris Hemsworth              NaN  1493
## Tony Stark         Robert Downey Jr.         Iron Man    42</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb154-1"><a href="python.html#cb154-1" aria-hidden="true" tabindex="-1"></a>avengers.iloc[<span class="dv">3</span>,] <span class="co"># subset based on index location</span></span></code></pre></div>
<pre><code>## actor            Chris Evans
## hero name    Captain America
## age                      104
## Name: Steve Rogers, dtype: object</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb156-1"><a href="python.html#cb156-1" aria-hidden="true" tabindex="-1"></a>avengers.iloc[<span class="dv">0</span>, <span class="dv">1</span>] <span class="co"># pair of coordinates</span></span></code></pre></div>
<pre><code>## &#39;Hulk&#39;</code></pre>
</div>
<div id="assignment-with-.loc-and-.iloc" class="section level3" number="2.1.6">
<h3><span class="header-section-number">2.1.6</span> Assignment with <code>.loc</code> and <code>.iloc</code></h3>
<p>The <code>.loc</code> and <code>.iloc</code> attributes can be used in conjunction with assignment.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb158-1"><a href="python.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set values individually</span></span>
<span id="cb158-2"><a href="python.html#cb158-2" aria-hidden="true" tabindex="-1"></a>avengers.loc[<span class="st">&#39;Thor&#39;</span>, <span class="st">&#39;age&#39;</span>] <span class="op">=</span> <span class="dv">1500</span></span>
<span id="cb158-3"><a href="python.html#cb158-3" aria-hidden="true" tabindex="-1"></a>avengers.loc[<span class="st">&#39;Thor&#39;</span>, <span class="st">&#39;hero name&#39;</span>] <span class="op">=</span> <span class="st">&#39;Thor&#39;</span></span>
<span id="cb158-4"><a href="python.html#cb158-4" aria-hidden="true" tabindex="-1"></a>avengers</span></code></pre></div>
<pre><code>##                                actor        hero name   age
## Bruce Banner            Mark Ruffalo             Hulk    42
## Clint Barton           Jeremy Renner          Hawkeye    41
## Natasha Romanoff  Scarlett Johansson      Black Widow    28
## Steve Rogers             Chris Evans  Captain America   104
## Thor                 Chris Hemsworth             Thor  1500
## Tony Stark         Robert Downey Jr.         Iron Man    42</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb160-1"><a href="python.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign multiple values at once</span></span>
<span id="cb160-2"><a href="python.html#cb160-2" aria-hidden="true" tabindex="-1"></a>avengers.loc[<span class="st">&#39;Thor&#39;</span>, [<span class="st">&#39;hero name&#39;</span>, <span class="st">&#39;age&#39;</span>]] <span class="op">=</span> [np.NaN, <span class="dv">1493</span>]</span>
<span id="cb160-3"><a href="python.html#cb160-3" aria-hidden="true" tabindex="-1"></a>avengers</span></code></pre></div>
<pre><code>##                                actor        hero name   age
## Bruce Banner            Mark Ruffalo             Hulk    42
## Clint Barton           Jeremy Renner          Hawkeye    41
## Natasha Romanoff  Scarlett Johansson      Black Widow    28
## Steve Rogers             Chris Evans  Captain America   104
## Thor                 Chris Hemsworth              NaN  1493
## Tony Stark         Robert Downey Jr.         Iron Man    42</code></pre>
</div>
<div id="loc-vs-.iloc-with-numeric-index" class="section level3" number="2.1.7">
<h3><span class="header-section-number">2.1.7</span> <code>.loc</code> vs <code>.iloc</code> with numeric index</h3>
<p>The following DataFrame has a numeric index, but it starts at 1 instead of 0.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb162-1"><a href="python.html#cb162-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [{<span class="st">&#39;a&#39;</span>: <span class="dv">11</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">2</span>},</span>
<span id="cb162-2"><a href="python.html#cb162-2" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&#39;a&#39;</span>: <span class="dv">12</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">4</span>},</span>
<span id="cb162-3"><a href="python.html#cb162-3" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&#39;a&#39;</span>: <span class="dv">13</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">6</span>}]</span>
<span id="cb162-4"><a href="python.html#cb162-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data, index <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb162-5"><a href="python.html#cb162-5" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##     a  b
## 1  11  2
## 2  12  4
## 3  13  6</code></pre>
<p><span style="color:blue"><strong><code>.loc</code> always uses the actual index.</strong></span>.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb164-1"><a href="python.html#cb164-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">1</span>, :] </span></code></pre></div>
<pre><code>## a    11
## b     2
## Name: 1, dtype: int64</code></pre>
<p><span style="color:blue"><strong><code>.iloc</code> always uses the position using a 0-based index.</strong></span>.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb166-1"><a href="python.html#cb166-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">1</span>, :]</span></code></pre></div>
<pre><code>## a    12
## b     4
## Name: 2, dtype: int64</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb168-1"><a href="python.html#cb168-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">3</span>, :] <span class="co"># using a position that doesn&#39;t exist results in an exception. </span></span></code></pre></div>
<blockquote>
<p>IndexError: single positional indexer is out-of-bounds</p>
</blockquote>
</div>
<div id="boolean-subsetting-examples-with-.loc" class="section level3" number="2.1.8">
<h3><span class="header-section-number">2.1.8</span> Boolean subsetting examples with <code>.loc</code></h3>
<div class="sourceCode" id="cb169"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb169-1"><a href="python.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(avengers) <span class="co"># just for ease of inspection</span></span></code></pre></div>
<pre><code>##                                actor        hero name   age
## Bruce Banner            Mark Ruffalo             Hulk    42
## Clint Barton           Jeremy Renner          Hawkeye    41
## Natasha Romanoff  Scarlett Johansson      Black Widow    28
## Steve Rogers             Chris Evans  Captain America   104
## Thor                 Chris Hemsworth              NaN  1493
## Tony Stark         Robert Downey Jr.         Iron Man    42</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb171-1"><a href="python.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select avengers whose age is less than 50 and greater than 40</span></span>
<span id="cb171-2"><a href="python.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="co"># select the columns &#39;hero name&#39; and &#39;age&#39;</span></span>
<span id="cb171-3"><a href="python.html#cb171-3" aria-hidden="true" tabindex="-1"></a>avengers.loc[ (avengers.age <span class="op">&lt;</span> <span class="dv">50</span>) <span class="op">&amp;</span> (avengers.age <span class="op">&gt;</span> <span class="dv">40</span>), [<span class="st">&#39;hero name&#39;</span>, <span class="st">&#39;age&#39;</span>]]</span></code></pre></div>
<pre><code>##              hero name  age
## Bruce Banner      Hulk   42
## Clint Barton   Hawkeye   41
## Tony Stark    Iron Man   42</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb173-1"><a href="python.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the index of the DataFrame, treat it as a string, and select rows that start with B</span></span>
<span id="cb173-2"><a href="python.html#cb173-2" aria-hidden="true" tabindex="-1"></a>avengers.loc[ avengers.index.<span class="bu">str</span>.startswith(<span class="st">&#39;B&#39;</span>), : ]</span></code></pre></div>
<pre><code>##                      actor hero name  age
## Bruce Banner  Mark Ruffalo      Hulk   42</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb175-1"><a href="python.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the index of the DataFrame, treat it as a string,</span></span>
<span id="cb175-2"><a href="python.html#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="co"># find the character capital R. Find returns -1 if it does not find the letter</span></span>
<span id="cb175-3"><a href="python.html#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="co"># We select rows that did not result in -1, which means it does contain a capital R</span></span>
<span id="cb175-4"><a href="python.html#cb175-4" aria-hidden="true" tabindex="-1"></a>avengers.loc[ avengers.index.<span class="bu">str</span>.find(<span class="st">&#39;R&#39;</span>) <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span>, : ]</span></code></pre></div>
<pre><code>##                                actor        hero name  age
## Natasha Romanoff  Scarlett Johansson      Black Widow   28
## Steve Rogers             Chris Evans  Captain America  104</code></pre>
<p><code>python avengers.loc[ avengers.index.str.find('X') != -1, : ]</code> gets the message</p>
<blockquote>
<p>Error: unexpected ‘:’ in “avengers.loc[ avengers.index.str.find(‘X’) != -1, :”</p>
</blockquote>
</div>
<div id="other-commonly-used-dataframe-attributes" class="section level3" number="2.1.9">
<h3><span class="header-section-number">2.1.9</span> Other commonly used DataFrame attributes</h3>
<div class="sourceCode" id="cb177"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb177-1"><a href="python.html#cb177-1" aria-hidden="true" tabindex="-1"></a>avengers.T <span class="co"># the transpose</span></span></code></pre></div>
<pre><code>##            Bruce Banner   Clint Barton  ...             Thor         Tony Stark
## actor      Mark Ruffalo  Jeremy Renner  ...  Chris Hemsworth  Robert Downey Jr.
## hero name          Hulk        Hawkeye  ...              NaN           Iron Man
## age                  42             41  ...             1493                 42
## 
## [3 rows x 6 columns]</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb179-1"><a href="python.html#cb179-1" aria-hidden="true" tabindex="-1"></a>avengers.dtypes <span class="co"># the data types contained in the DataFrame</span></span></code></pre></div>
<pre><code>## actor        object
## hero name    object
## age           int64
## dtype: object</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb181-1"><a href="python.html#cb181-1" aria-hidden="true" tabindex="-1"></a>avengers.shape <span class="co"># shape</span></span></code></pre></div>
<pre><code>## (6, 3)</code></pre>
</div>
<div id="importing-data-with-pd.read_csv" class="section level3" number="2.1.10">
<h3><span class="header-section-number">2.1.10</span> Importing Data with pd.read_csv()</h3>
<div class="sourceCode" id="cb183"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb183-1"><a href="python.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Titanic Dataset</span></span>
<span id="cb183-2"><a href="python.html#cb183-2" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&#39;https://assets.datacamp.com/production/course_1607/datasets/titanic_sub.csv&#39;</span></span>
<span id="cb183-3"><a href="python.html#cb183-3" aria-hidden="true" tabindex="-1"></a>titanic <span class="op">=</span> pd.read_csv(url)</span></code></pre></div>
<div class="sourceCode" id="cb184"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb184-1"><a href="python.html#cb184-1" aria-hidden="true" tabindex="-1"></a>titanic</span></code></pre></div>
<pre><code>##      PassengerId  Survived  Pclass  ...     Fare  Cabin  Embarked
## 0              1         0       3  ...   7.2500    NaN         S
## 1              2         1       1  ...  71.2833    C85         C
## 2              3         1       3  ...   7.9250    NaN         S
## 3              4         1       1  ...  53.1000   C123         S
## 4              5         0       3  ...   8.0500    NaN         S
## ..           ...       ...     ...  ...      ...    ...       ...
## 886          887         0       2  ...  13.0000    NaN         S
## 887          888         1       1  ...  30.0000    B42         S
## 888          889         0       3  ...  23.4500    NaN         S
## 889          890         1       1  ...  30.0000   C148         C
## 890          891         0       3  ...   7.7500    NaN         Q
## 
## [891 rows x 11 columns]</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb186-1"><a href="python.html#cb186-1" aria-hidden="true" tabindex="-1"></a>titanic.shape</span></code></pre></div>
<pre><code>## (891, 11)</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb188-1"><a href="python.html#cb188-1" aria-hidden="true" tabindex="-1"></a>titanic.columns</span></code></pre></div>
<pre><code>## Index([&#39;PassengerId&#39;, &#39;Survived&#39;, &#39;Pclass&#39;, &#39;Sex&#39;, &#39;Age&#39;, &#39;SibSp&#39;, &#39;Parch&#39;,
##        &#39;Ticket&#39;, &#39;Fare&#39;, &#39;Cabin&#39;, &#39;Embarked&#39;],
##       dtype=&#39;object&#39;)</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb190-1"><a href="python.html#cb190-1" aria-hidden="true" tabindex="-1"></a>titanic.index</span></code></pre></div>
<pre><code>## RangeIndex(start=0, stop=891, step=1)</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb192-1"><a href="python.html#cb192-1" aria-hidden="true" tabindex="-1"></a>titanic.info()</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
## RangeIndex: 891 entries, 0 to 890
## Data columns (total 11 columns):
## PassengerId    891 non-null int64
## Survived       891 non-null int64
## Pclass         891 non-null int64
## Sex            891 non-null object
## Age            714 non-null float64
## SibSp          891 non-null int64
## Parch          891 non-null int64
## Ticket         891 non-null object
## Fare           891 non-null float64
## Cabin          204 non-null object
## Embarked       889 non-null object
## dtypes: float64(2), int64(5), object(4)
## memory usage: 76.7+ KB</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb194-1"><a href="python.html#cb194-1" aria-hidden="true" tabindex="-1"></a>titanic.describe() <span class="co"># displays summary statistics of the numeric variables</span></span></code></pre></div>
<pre><code>##        PassengerId    Survived      Pclass  ...       SibSp       Parch        Fare
## count   891.000000  891.000000  891.000000  ...  891.000000  891.000000  891.000000
## mean    446.000000    0.383838    2.308642  ...    0.523008    0.381594   32.204208
## std     257.353842    0.486592    0.836071  ...    1.102743    0.806057   49.693429
## min       1.000000    0.000000    1.000000  ...    0.000000    0.000000    0.000000
## 25%     223.500000    0.000000    2.000000  ...    0.000000    0.000000    7.910400
## 50%     446.000000    0.000000    3.000000  ...    0.000000    0.000000   14.454200
## 75%     668.500000    1.000000    3.000000  ...    1.000000    0.000000   31.000000
## max     891.000000    1.000000    3.000000  ...    8.000000    6.000000  512.329200
## 
## [8 rows x 7 columns]</code></pre>
</div>
</div>
<div id="pandas-ii-indexing-arithmetic-missing-values" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Pandas II: Indexing, Arithmetic, Missing Values</h2>
<div id="indexing" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Indexing</h3>
<p><strong>Series that we will use as examples</strong></p>
<div class="sourceCode" id="cb196"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb196-1"><a href="python.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># note that the value after the decimal place corresponds to the letter position.</span></span>
<span id="cb196-2"><a href="python.html#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="co"># i.e. 1.4 corresponds to d, the fourth letter.</span></span>
<span id="cb196-3"><a href="python.html#cb196-3" aria-hidden="true" tabindex="-1"></a>original1 <span class="op">=</span> pd.Series([<span class="fl">1.4</span>, <span class="fl">2.3</span>, <span class="fl">3.1</span>, <span class="fl">4.2</span>], index <span class="op">=</span> [<span class="st">&#39;d&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>])</span>
<span id="cb196-4"><a href="python.html#cb196-4" aria-hidden="true" tabindex="-1"></a>original2 <span class="op">=</span> pd.Series([<span class="fl">2.2</span>, <span class="fl">3.1</span>, <span class="fl">1.3</span>, <span class="fl">4.4</span>], index <span class="op">=</span> [<span class="st">&#39;b&#39;</span>,<span class="st">&#39;a&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>])</span></code></pre></div>
<p><span style="color:blue"><strong>When you create a series, the original order of the index is preserved.</strong></span>.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb197-1"><a href="python.html#cb197-1" aria-hidden="true" tabindex="-1"></a>original1</span></code></pre></div>
<pre><code>## d    1.4
## c    2.3
## a    3.1
## b    4.2
## dtype: float64</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb199-1"><a href="python.html#cb199-1" aria-hidden="true" tabindex="-1"></a>original2</span></code></pre></div>
<pre><code>## b    2.2
## a    3.1
## c    1.3
## d    4.4
## dtype: float64</code></pre>
<p><span style="color:blue"><strong>Making a DataFrame with multiple series with the same index preserves the index order.</strong></span>.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb201-1"><a href="python.html#cb201-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame({<span class="st">&quot;x&quot;</span>:original1, <span class="st">&quot;x2&quot;</span>: original1 <span class="op">*</span> <span class="dv">2</span>})</span></code></pre></div>
<pre><code>##      x   x2
## d  1.4  2.8
## c  2.3  4.6
## a  3.1  6.2
## b  4.2  8.4</code></pre>
<p><span style="color:blue"><strong>Note that original1 and original2 have different index orders. Because original1 and original2 have index in different order, Pandas will sort the index before putting them together</strong></span>.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb203-1"><a href="python.html#cb203-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">&quot;x&quot;</span>:original1, <span class="st">&quot;y&quot;</span>: original2})</span>
<span id="cb203-2"><a href="python.html#cb203-2" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##      x    y
## a  3.1  3.1
## b  4.2  2.2
## c  2.3  1.3
## d  1.4  4.4</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb205-1"><a href="python.html#cb205-1" aria-hidden="true" tabindex="-1"></a>original1.index <span class="co"># the index of original1 is the letters d, c, a, b in a tuple-like object</span></span></code></pre></div>
<pre><code>## Index([&#39;d&#39;, &#39;c&#39;, &#39;a&#39;, &#39;b&#39;], dtype=&#39;object&#39;)</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb207-1"><a href="python.html#cb207-1" aria-hidden="true" tabindex="-1"></a>original1[<span class="st">&#39;d&#39;</span>:<span class="st">&#39;a&#39;</span>] <span class="co"># when slicing pandas uses the index order or original1</span></span></code></pre></div>
<pre><code>## d    1.4
## c    2.3
## a    3.1
## dtype: float64</code></pre>
<p><span style="color:blue"><strong>When slicing Pandas uses the index order of the DataFrame, which has been sorted.</strong></span></p>
<div class="sourceCode" id="cb209"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb209-1"><a href="python.html#cb209-1" aria-hidden="true" tabindex="-1"></a>df.index </span></code></pre></div>
<pre><code>## Index([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], dtype=&#39;object&#39;)</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb211-1"><a href="python.html#cb211-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;a&#39;</span>:<span class="st">&#39;c&#39;</span>]</span></code></pre></div>
<pre><code>##      x    y
## a  3.1  3.1
## b  4.2  2.2
## c  2.3  1.3</code></pre>
<p><strong>Rearranging value</strong></p>
<p><span style="color:blue"><strong>Both Series and DataFrames have the .sort_index() and .sort_values() methods which can be used to rearrange the value.</strong></span></p>
<div class="sourceCode" id="cb213"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb213-1"><a href="python.html#cb213-1" aria-hidden="true" tabindex="-1"></a>original2</span></code></pre></div>
<pre><code>## b    2.2
## a    3.1
## c    1.3
## d    4.4
## dtype: float64</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb215-1"><a href="python.html#cb215-1" aria-hidden="true" tabindex="-1"></a>original2.sort_index()</span></code></pre></div>
<pre><code>## a    3.1
## b    2.2
## c    1.3
## d    4.4
## dtype: float64</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb217-1"><a href="python.html#cb217-1" aria-hidden="true" tabindex="-1"></a>original2.sort_values()</span></code></pre></div>
<pre><code>## c    1.3
## b    2.2
## a    3.1
## d    4.4
## dtype: float64</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb219-1"><a href="python.html#cb219-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##      x    y
## a  3.1  3.1
## b  4.2  2.2
## c  2.3  1.3
## d  1.4  4.4</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb221-1"><a href="python.html#cb221-1" aria-hidden="true" tabindex="-1"></a>df.sort_values(by <span class="op">=</span> <span class="st">&quot;x&quot;</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span></code></pre></div>
<pre><code>##      x    y
## b  4.2  2.2
## a  3.1  3.1
## c  2.3  1.3
## d  1.4  4.4</code></pre>
<p><strong>Changing the Index</strong></p>
<p><span style="color:blue"><strong>The index of a Pandas Series or Pandas DataFrame is immutable and cannot be modified.</strong></span> However, if you want to change the index of a series or dataframe, you can define a new index and replace the existing index of the series/DataFrame.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb223-1"><a href="python.html#cb223-1" aria-hidden="true" tabindex="-1"></a>original1</span></code></pre></div>
<pre><code>## d    1.4
## c    2.3
## a    3.1
## b    4.2
## dtype: float64</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb225-1"><a href="python.html#cb225-1" aria-hidden="true" tabindex="-1"></a>original1.index <span class="op">=</span> <span class="bu">range</span>(<span class="dv">4</span>) <span class="co"># I replace the index of the series with this range object.</span></span>
<span id="cb225-2"><a href="python.html#cb225-2" aria-hidden="true" tabindex="-1"></a>original1</span></code></pre></div>
<pre><code>## 0    1.4
## 1    2.3
## 2    3.1
## 3    4.2
## dtype: float64</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb227-1"><a href="python.html#cb227-1" aria-hidden="true" tabindex="-1"></a>original1.index <span class="co"># We can see this has automatically become a RangeIndex object</span></span></code></pre></div>
<pre><code>## RangeIndex(start=0, stop=4, step=1)</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb229-1"><a href="python.html#cb229-1" aria-hidden="true" tabindex="-1"></a>original1[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## 2.3</code></pre>
<div class="sourceCode" id="cb231"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb231-1"><a href="python.html#cb231-1" aria-hidden="true" tabindex="-1"></a>original1.loc[<span class="dv">1</span>] <span class="co"># behaves the same as above</span></span></code></pre></div>
<pre><code>## 2.3</code></pre>
<div class="sourceCode" id="cb233"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb233-1"><a href="python.html#cb233-1" aria-hidden="true" tabindex="-1"></a>original1.iloc[<span class="dv">1</span>] <span class="co"># behaves the same as above because the range index starts at 0</span></span></code></pre></div>
<pre><code>## 2.3</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb235-1"><a href="python.html#cb235-1" aria-hidden="true" tabindex="-1"></a>original1.index <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">5</span>)</span>
<span id="cb235-2"><a href="python.html#cb235-2" aria-hidden="true" tabindex="-1"></a>original1</span></code></pre></div>
<pre><code>## 1    1.4
## 2    2.3
## 3    3.1
## 4    4.2
## dtype: float64</code></pre>
<div class="sourceCode" id="cb237"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb237-1"><a href="python.html#cb237-1" aria-hidden="true" tabindex="-1"></a>original1[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## 1.4</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb239-1"><a href="python.html#cb239-1" aria-hidden="true" tabindex="-1"></a>original1.loc[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## 1.4</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb241-1"><a href="python.html#cb241-1" aria-hidden="true" tabindex="-1"></a>original1.iloc[<span class="dv">1</span>] <span class="co"># behavior is different because range index starts at 1</span></span></code></pre></div>
<pre><code>## 2.3</code></pre>
<div class="sourceCode" id="cb243"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb243-1"><a href="python.html#cb243-1" aria-hidden="true" tabindex="-1"></a>original1[<span class="st">&#39;a&#39;</span>] <span class="co"># throws an error because &#39;a&#39; is no longer part of the index and cannot be used to select values</span></span></code></pre></div>
<blockquote>
<p>KeyError: ‘a’</p>
</blockquote>
<p>You can change the index of a DataFrame by defining a new object and assigning it to the index.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb244-1"><a href="python.html#cb244-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##      x    y
## a  3.1  3.1
## b  4.2  2.2
## c  2.3  1.3
## d  1.4  4.4</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb246-1"><a href="python.html#cb246-1" aria-hidden="true" tabindex="-1"></a>df.index <span class="op">=</span> [<span class="st">&#39;j&#39;</span>,<span class="st">&#39;k&#39;</span>,<span class="st">&#39;l&#39;</span>,<span class="st">&#39;m&#39;</span>]</span>
<span id="cb246-2"><a href="python.html#cb246-2" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##      x    y
## j  3.1  3.1
## k  4.2  2.2
## l  2.3  1.3
## m  1.4  4.4</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dplyr-vs-pandas.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Toolbox.pdf", "Toolbox.epub"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
