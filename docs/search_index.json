[["tidyr-vs-pandas.html", "2 tidyr vs pandas 2.1 pivot_longer() vs melt()", " 2 tidyr vs pandas 2.1 pivot_longer() vs melt() Example data: Life expectancy country 1997 2007 Bangladesh 59.4 64.1 Portugal 76.0 78.1 How do we make the table long? Desired output: country year life_exp Bangladesh 1997 59.4 Bangladesh 2007 64.1 Portugal 1997 76.0 Portugal 2007 78.1 tidyr::pivot_longer pandas::melt() # create df df &lt;- tibble( country = c(&quot;Bangladesh&quot;, &quot;Portugal&quot;), `1997` = c(59.4, 76.0), `2007` = c(64.1, 78.1) ) # pivot_longer in action df %&gt;% pivot_longer( cols = c(`1997`, `2007`), names_to = &quot;year&quot;, values_to = &quot;life_exp&quot; ) ## # A tibble: 4 x 3 ## country year life_exp ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 Bangladesh 1997 59.4 ## 2 Bangladesh 2007 64.1 ## 3 Portugal 1997 76 ## 4 Portugal 2007 78.1 # create df data = { &#39;country&#39;: [&quot;Bangladesh&quot;, &quot;Portugal&quot;], &#39;1997&#39;: [59.4, 76.0], &#39;2007&#39;: [64.1, 78.1] } df = pd.DataFrame(data) # melt() in action df.melt( id_vars = &#39;country&#39;, value_vars = [&#39;1997&#39;, &#39;2007&#39;], value_name = &#39;life_exp&#39;, var_name = &#39;year&#39; ) ## country year life_exp ## 0 Bangladesh 1997 59.4 ## 1 Portugal 1997 76.0 ## 2 Bangladesh 2007 64.1 ## 3 Portugal 2007 78.1 "]]
